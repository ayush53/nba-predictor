YUI.add("mjata-template",function(e,t){"use strict";function o(e){return r(e)?e:function(t,n){if(t)return;e&&e._node&&e.empty().setHTML(n)}}var n={},r=e.Lang.isFunction,i=e.Object,s=e.Mjata.Util;n.dust={hasTemplate:function(e){return!!(dust&&dust.cache&&dust.cache[e])},render:function(e,t,n,r){if(!this.hasTemplate(e)||!t||!r)return!1;if(n&&i.size(n)>0){var s=dust.makeBase(n);dust.render(e,s.push(t),o(r))}else dust.render(e,t,o(r))}},e.namespace("Mjata").Template={hasTemplate:function(e){return i.some(n,function(t,n){return t.hasTemplate(e)})},render:function(e,t,s,o){var u;i.some(n,function(t,n){return t.hasTemplate(e)?(u=t,!0):!1}),u?u.render(e,t,s,o):r(o)&&o("Missing engine: "+e)}}},"@VERSION@",{requires:["dust"]});
;YUI.add("mjata-bind-model2dom",function(e,t){"use strict";function v(e,t){return e&&e.empty().setHTML(t)}function m(t,n){var r=t._node,i=e.Node.create(n);r.parentNode.replaceChild(i._node,r),t._node=i._node}function g(e){return e&&a.strParseKV(e)||{}}function y(e){var t,n,i;return e._isYUIModel?t="data-model":e._isYUIModelList&&(t="data-list"),n=e.constructor.NAME,i=e.get&&e.get("id"),!t||!n||!i?r:"["+t+'="'+n+"@"+i+'"]'}function b(e,t,n){if(!e)return;var r;switch(e.get("tagName")){case"A":e.set("href",n);break;case"IMG":e.set("src",n);break;case"INPUT":r=e.get("type"),"radio"===r||"checkbox"===r?n===e.get("value")?e.setAttribute("checked","checked"):e.removeAttribute("checked"):e.set("value",n);break;case"SELECT":e.set("value",n);break;default:e.setHTML(n)}}function w(t,n,i){var s=i?i["class"]:r,o=[];s&&(t.all("[data-attr]").each(function(r){var i=r.getData("attr"),s=i.split("."),u=s.shift(),f=s.join("."),l,c;e.Object.owns(n,u)&&(l=a.objGet(n[u].prevVal,f),c=a.objGet(n[u].newVal,f),a.objEqual(l,c)||o.push(r))}),o.length&&(o=e.all(o),o.addClass("SlowTrans").addClass(s),window.setTimeout(function(){try{o.removeClass(s)}catch(e){}},500)))}function E(t){if(t._transaction&&t._transaction._mjatabind_processed)return;t._transaction&&(t._transaction._mjatabind_processed=!0);var r=t.target;u.eachBinding(r,function(s,o){var u,a,f=s.getContext(),l;u=g(o.getData(n)),u.change?(a=g(o.getData("bindcfg")),c(u.change,r.toJSON(),f,function(e,n){if(e)return;a.replace==="true"?m(o,n):v(o,n),w(o,t.changed,a)})):e.each(t.changed,function(e,t){var i='[data-attr="'+t+'"]';o.all(i).each(function(s){var o;o=g(s.getData(n)),o.change?c(o.change,r.toJSON([t]),f,s):b(s,e.prevVal,e.newVal)})})})}function S(e){var t=e.target,r=e.model,i,s,o;f(r.get)?s=r.get("id"):(i=t.model.prototype.idAttribute||"id",s=r[i]),o=y(r);if(!o)return;u.eachBinding(t,function(r,i){var s;i.all(o).remove(!0),t.isEmpty()&&(s=g(i.getData(n)),s.placeholder&&c(s.placeholder,{},r.getContext(),i))})}function x(e){var t=e.target,r=e.model,i=e.index;u.eachBinding(t,function(s,o){var u,a;u=g(o.getData(n));if(!u.add)return;a=f(r.toJSON)?r.toJSON():r,c(u.add,a,s.getContext(),function(e,n){var r;if(e)return;if(t.size()===1){v(o,n);return}r=o.get("children").item(i),r?o.insertBefore(n,r):o.append(n)})})}function T(e){var t=e.target;u.eachBinding(t,function(r,i){var s=g(i.getData(n)),o=r.getContext();if(s.reset){c(s.reset,t.toJSON(),o,i);return}if(t.isEmpty())return s.placeholder?c(s.placeholder,{},o,i):v(i,"")})}function N(t,n,r){this.key=t,this.node=n||"body",this.options=r||{},this.guid=e.guid()}var n="tmpl",r=null,i=e.Lang,s=e.Mjata,o=s.ModelStore,u,a=s.Util,f=i.isFunction,l=i.isString,c=s.Template.render,h=e.Object.size,p={},d=!1;N.prototype={getContext:function(){return f(this.options.ctx)?this.options.ctx.call():this.options.ctx||{}},isValid:function(){return l(this.node)||!!this.node._node},unbind:function(){this.node=r,this.options=r,p[this.key]&&(delete p[this.key][this.guid],h(p[this.key])===0&&delete p[this.key])}},u={_createBindKey:function(e){if(!e)return r;if(l(e))return e;if(f(e))return e.NAME||r;var t=e.constructor.NAME,n;return t?(f(e.get)&&(n=e.get("id")),n?t+"_"+n:t):r},_init:function(){if(d)return;o.after("*:change",E),o.after("*:remove",S),o.after("*:reset",T),o.after("*:add",x),d=!0},bind:function(e,t,n){var i=this._createBindKey(e),s;return i?(p[i]||(p[i]={}),s=new N(i,t,n),p[i][s.guid]=s,this._init(),s):r},unbind:function(){},isBound:function(e){var t=this._getBindings(e);return t&&h(t)>0},_getBindings:function(e){if(!e)return{};var t=this._createBindKey(e),n;return t?p[t]&&h(p[t])>0?p[t]:(n=e.constructor.NAME,n&&p[n]||{}):{}},eachBinding:function(t,n){if(!f(n))return;var i,s=y(t),o=[];if(!s)return;i=this._getBindings(t),e.each(i,function(t){if(t.isValid()){var i=e.one(t.node);i.all(s).each(function(e){n.call(r,t,e)}),i.test(s)&&n.call(r,t,i)}else o.push(t)}),e.each(o,function(e){e.unbind()})}},e.namespace("Mjata.Bind").Model2Dom=u},"@VERSION@",{requires:["mjata-model-store","mjata-template","mjata-util","node-base","node-core"]});
;YUI.add("mjata-binder",function(e,t){"use strict";function o(e){this._mjataBinding=[]}var n=e.Mjata.Bind.Model2Dom,r=e.Mjata.ModelStore,i=e.Lang,s=i.isFunction;o._NON_ATTRS_CFG=["mjataAutoBind"],o.prototype={mjataAutoBind:!0,mjataBind:function(t,i,o){if(!t)return!1;!i&&s(this.get)&&(i=this.get("container"));if(!i)return!1;var u,a,f;if(t._isYUIModel||t._isYUIModelList){u=r.add(t);if(!u)return!1}return this._mjataBinding.push(n.bind(t,i,o)),o=o||{},e.Object.owns(o,"mjataAutoBind")?f=o.mjataAutoBind:f=this.mjataAutoBind,f?(t._isYUIModelList?a=t.model:s(t)&&(a=t.prototype.model),s(a)&&this._mjataBinding.push(n.bind(a.NAME,i,o)),!0):!0},mjataUnbind:function(){e.each(this._mjataBinding,function(e){e.unbind()}),this._mjataBinding=[]}},e.namespace("Mjata").Binder=o},"@VERSION@",{requires:["mjata-bind-model2dom"]});
;YUI.add("stencil-toggle",function(e){"use strict";function s(e){this.constructor.superclass.constructor.call(this,e)}var t="data-toggle-group-active",n="data-toggle-group",r="data-toggle-prevent-default",i={add:1,remove:1,toggle:1,replace:1};e.extend(s,e.Stencil.BasePlugin,{execute:function(e,t,n){var s=this._node,o;if(!t)return;if(n&&(s.get("tagName")==="A"&&s.getAttribute(r)!=="0"||s.getAttribute(r)==="1"))try{n.preventDefault()}catch(u){}for(o in t)t.hasOwnProperty(o)&&i[o]&&this.go(o,e,t[o])},go:function(r,i,s){var o;i||(i=e.Stencil.getNodeList(this._node)),this.processSources(i),i.each(function(i){o=null,r==="toggle"&&i.hasAttribute(n)&&(o=e.all("["+n+"="+i.getAttribute(n)+"]["+t+"]"),o.size()>0&&(o.removeAttribute(t),this.processTarget(o,r,s)));if(!o||o.indexOf(i)===-1)o&&i.setAttribute(t,1),this.processTarget(i,r,s)},this)},processTarget:function(t,n,r){var i,s,o;return e.Object.each(r,function(r,u){i=u==="classnames",typeof r=="string"&&(r=i?e.Lang.trim(r).split(","):[r]),n==="replace"&&(i?t.setAttribute("className",""):t.setAttribute(u,""));if(u==="style")e.Object.each(r,function(r,i){var s,o,u,a;u=t.getStyle(i);for(s=0,o=r.length;s<o;s+=1){if(n==="remove"){t.setStyle(i,"");break}if(n==="toggle"){a=e.one(document.createElement(t.get("tagName"))).setStyle(i,r[s]).getStyle(i);if(u!==a){t.setStyle(i,r[s]);break}}else t.setStyle(i,r[s])}},this);else for(s=0,o=r.length;s<o;s+=1)if(i)n==="remove"?t.removeClass(r[s]):n==="toggle"?t.toggleClass(r[s]):t.addClass(r[s]);else if(n==="remove")t.removeAttribute(u);else if(n==="toggle"){if(t.getAttribute(u)!==r[s]){t.setAttribute(u,r[s]);break}}else t.setAttribute(u,r[s])},this),this}},{NS:"StencilToggle",defaultTriggerEvents:["click"]}),e.Stencil.registerPlugin(s,"Toggle")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","node-base","node-style","node-pluginhost","event-focus","event-mouseenter","json-parse"]});
;YUI.add("td-applet-scores-templates-score",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,v){return e.write('<div data-model="TDScoresModel@').reference(v.get("gameid"),v,"h").write('" data-tmpl="change:td-applet-scores-templates-score" data-bindcfg="replace:true;class:LiveUpdate">').write("\n").write('<a href="').reference(v.getPath(!1,["status","link","href"]),v,"h").write('">').write("\n").write('<div class="Cur-p ysp-game-link Row').helper("if",v,{"else":t,block:n},{cond:r}).write(">").write("\n").write('<ul class="Grid Whs-nw">').write("\n\n").write("\n\n").write('<li class="Grid-U Fw-n Whs-nw Ta-start W-50 Va-m Pstart-10">').write("\n    ").write('<div class="Pb-2 Ov-h">').write("\n        ").helper("img",v,{},{src:i,width:"20",height:"20",alt:s}).write("\n        ").write("<b ").helper("if",v,{block:o},{cond:u}).write(" >").write("\n            ").exists(v.getPath(!1,["away_team","league_rank"]),v,{block:a},null).reference(v.getPath(!1,["away_team","display_name"]),v,"h").write("\n        ").write("</b>").write("\n    ").write("</div>").write("\n    ").write('<div class="Pt-2 Ov-h">').write("\n        ").helper("img",v,{},{src:f,width:"20",height:"20",alt:l}).write("\n        ").write("<b ").helper("if",v,{block:c},{cond:h}).write(" >").write("\n        ").exists(v.getPath(!1,["home_team","league_rank"]),v,{block:p},null).reference(v.getPath(!1,["home_team","display_name"]),v,"h").write("\n        ").write("</b>").write("\n    ").write("</div>").write("\n").write("</li>").write("\n\n").helper("select",v,{block:d},{key:E}).write("\n\n").write("\n\n\n").write("\n\n").helper("select",v,{block:S},{key:J}).write("\n\n").write("\n\n\n").write("</ul>").write("\n").write("</div>").write("\n").write("</a>").write("\n").write("</div>").write("\n")}function t(e,t){return e.write('" data-plugin=\'toggle\' data-toggle=\'[{"mouseenter":{"add":{"classnames":"Bgc-02"}},"mouseleave":{"remove":{"classnames":"Bgc-02"}}}]\' data-trigger=\'mouseenter mouseleave\'')}function n(e,t){return e.write(' Bgc-02"')}function r(e,t){return e.reference(t.get("fav"),t,"h")}function i(e,t){return e.reference(t.getPath(!1,["away_team","images","team_logo_cropped","url"]),t,"h")}function s(e,t){return e.reference(t.getPath(!1,["away_team","display_name"]),t,"h")}function o(e,t){return e.write(' class="Fw-b"')}function u(e,t){return e.write("'").reference(t.getPath(!1,["status","type"]),t,"h").write("' == 'final' && parseInt('").reference(t.getPath(!1,["score","away_team"]),t,"h").write("', 10) > parseInt('").reference(t.getPath(!1,["score","home_team"]),t,"h").write("', 10)")}function a(e,t){return e.write("(").reference(t.getPath(!1,["away_team","league_rank"]),t,"h").write(") ")}function f(e,t){return e.reference(t.getPath(!1,["home_team","images","team_logo_cropped","url"]),t,"h")}function l(e,t){return e.reference(t.getPath(!1,["home_team","display_name"]),t,"h")}function c(e,t){return e.write(' class="Fw-b"')}function h(e,t){return e.write("'").reference(t.getPath(!1,["status","type"]),t,"h").write("' == 'final' && parseInt('").reference(t.getPath(!1,["score","home_team"]),t,"h").write("', 10) > parseInt('").reference(t.getPath(!1,["score","away_team"]),t,"h").write("', 10)")}function p(e,t){return e.write("(").reference(t.getPath(!1,["home_team","league_rank"]),t,"h").write(") ")}function d(e,t){return e.write("\n").helper("eq",t,{block:v},{value:"final"}).write("\n").helper("eq",t,{block:w},{value:"in_progress"}).write("\n")}function v(e,t){return e.write("\n").write('<li class="Grid-U W-10 Va-m">').write("\n    ").write('<div class="Mb-8">').write("\n        ").write('<b class="Px-4 Py-1').helper("if",t,{block:m},{cond:g}).write('" data-attr="score.away_team">').reference(t.getPath(!1,["score","away_team"]),t,"h").write("</b>").write("\n    ").write("</div>").write("\n    ").write('<div class="Mt-8">').write("\n        ").write('<b class="Px-4 Py-1').helper("if",t,{block:y},{cond:b}).write('" data-attr="score.home_team">').reference(t.getPath(!1,["score","home_team"]),t,"h").write("</b>").write("\n    ").write("</div>").write("\n").write("</li>").write("\n")}function m(e,t){return e.write(" Fw-b")}function g(e,t){return e.write("parseInt('").reference(t.getPath(!1,["score","away_team"]),t,"h").write("', 10) > parseInt('").reference(t.getPath(!1,["score","home_team"]),t,"h").write("', 10)")}function y(e,t){return e.write(" Fw-b")}function b(e,t){return e.write("parseInt('").reference(t.getPath(!1,["score","home_team"]),t,"h").write("', 10) > parseInt('").reference(t.getPath(!1,["score","away_team"]),t,"h").write("', 10)")}function w(e,t){return e.write("\n").write('<li class="Grid-U W-10 Va-m">').write("\n    ").write('<div class="Mb-2">').write("\n        ").write('<b class="C-w Bgc-n Px-4 Py-1 Bdtrrs Bdtlrs D-ib" data-attr="score.away_team">').reference(t.getPath(!1,["score","away_team"]),t,"h").write("</b>").write("\n    ").write("</div>").write("\n    ").write('<div class="Mb-2">').write("\n        ").write('<b class="C-w Bgc-n Px-4 Py-1 Bdbrrs Bdblrs D-ib" data-attr="score.home_team">').reference(t.getPath(!1,["score","home_team"]),t,"h").write("</b>").write("\n    ").write("</div>").write("\n").write("</li>").write("\n")}function E(e,t){return e.reference(t.getPath(!1,["status","type"]),t,"h")}function S(e,t){return e.write("\n").helper("eq",t,{block:x},{value:"final"}).write("\n").helper("eq",t,{block:C},{value:"pregame"}).write("\n").helper("eq",t,{block:_},{value:"in_progress"}).write("\n")}function x(e,t){return e.write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n    ").helper("if",t,{block:T},{cond:N}).write("\n").write("</li>").write("\n")}function T(e,t){return e.write("\n    ").write('<div class="Fz-xs">').helper("date",t,{},{val:t.get("start_ts"),format:"MMM Do",zone:5}).write("</div>").write("\n    ")}function N
(e,t){return e.write("'").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'nfl' || '").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'ncaaf'")}function C(e,t){return e.write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs">').write("\n    ").write('<span class="D-b">').write("\n    ").reference(t.getPath(!1,["status","label"]),t,"h").write("\n    ").write("</span>").write("\n    ").write('<span class="D-ib">').write("\n    ").section(t.get("tv_coverage"),t,{block:k},null).write("\n    ").write("</span>").write("\n\n    ").helper("if",t,{block:O},{cond:M}).write("\n    \n    ").write("</div>").write("\n\n    \n    ").write("\n").write("</li>").write("\n")}function k(e,t){return e.write("\n    ").section(t.get("channels"),t,{block:L},null).write("\n    ")}function L(e,t){return e.write("\n        ").reference(t.getPath(!0,[]),t,"h").helper("sep",t,{block:A},null).write("\n    ")}function A(e,t){return e.write(",")}function O(e,t){return e.write("\n    ").write('<div class="Fz-xs Whs-nw">').helper("date",t,{},{val:t.get("start_ts"),format:"MMM Do",zone:5}).write("</div>").write("\n    ")}function M(e,t){return e.write("'").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'nfl' || '").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'ncaaf'")}function _(e,t){return e.write("\n\n").helper("select",t,{block:D},{key:$}).write("\n\n")}function D(e,t){return e.write("\n\n\n").helper("eq",t,{block:P},{value:"mlb"}).write("\n\n\n\n\n").helper("eq",t,{block:F},{value:"nfl"}).write("\n\n\n\n").helper("eq",t,{block:R},{value:"ncaaf"}).write("\n\n").helper("eq",t,{block:W},{value:"nba"}).write("\n\n").helper("eq",t,{block:X},{value:"ncaab"}).write("\n\n").helper("eq",t,{block:V},{value:"nhl"}).write("\n\n\n\n")}function P(e,t){return e.write("\n\n").write("\n").section(t.getPath(!1,["status","base_runners"]),t,{block:H},null).write("\n\n").section(t.getPath(!1,["status","game_stats","current_period"]),t,{block:j},null).write("\n").write("\n\n")}function H(e,t){return e.write("\n").write('<li class="Grid-U Va-m W-20">').write("\n    ").write('<span class="D-ib" data-attr="status.base_runners">').write("\n    ").helper("img",t,{},{"class":"Mt-2",width:"36",height:"26",defer:"0",src:"http://l.yimg.com/os/mit/media/m/base/images/transparent-95031.png",style:B,alt:"",title:""}).write("\n    ").write("</span>").write("\n    ").write('<span class="D-b Fw-b NoLinkColor" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</span>").write("\n").write("</li>").write("\n")}function B(e,t){return e.write("background:url(http://l.yimg.com/os/mit/media/m/sports/images/mlb-diamond-gs-1201135.png) ").reference(t.get("offset"),t,"h").write("px 0;")}function j(e,t){return e.write("\n").write('<li class="Grid-U Va-m W-10">').write("\n    ").write('<ul class="M-0 Fl-end Fz-xs">').write("\n        ").write('<li><abbr title="Balls">B</abbr>: <span class="Px-4 Py-1" data-attr="status.game_stats.current_period.balls">').reference(t.get("balls"),t,"h").write("</span></li>").write("\n        ").write('<li><abbr title="Strikes">S</abbr>: <span class="Px-4 Py-1" data-attr="status.game_stats.current_period.strikes">').reference(t.get("strikes"),t,"h").write("</span></li>").write("\n        ").write('<li><abbr title="Outs">O</abbr>: <span class="Px-4 Py-1" data-attr="status.game_stats.current_period.outs">').reference(t.get("outs"),t,"h").write("</span></li>").write("\n    ").write("</ul>").write("\n").write("</li>").write("\n")}function F(e,t){return e.write("\n\n").write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n    ").helper("if",t,{block:I},{cond:q}).write("\n").write("</li>").write("\n").write("\n\n")}function I(e,t){return e.write('<div class="Fz-xs"><span data-attr="status.down_ordinal">').reference(t.getPath(!1,["status","down_ordinal"]),t,"h").write('</span> & <span data-attr="status.distance">').reference(t.getPath(!1,["status","distance"]),t,"h").write("</span></div>")}function q(e,t){return e.write("'").reference(t.getPath(!1,["status","yards_to_endzone"]),t,"h").write("' !== '0'")}function R(e,t){return e.write("\n\n").write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n    ").helper("if",t,{block:U},{cond:z}).write("\n").write("</li>").write("\n").write("\n\n")}function U(e,t){return e.write('<div class="Fz-xs"><span data-attr="status.down_ordinal">').reference(t.getPath(!1,["status","down_ordinal"]),t,"h").write('</span> & <span data-attr="status.distance">').reference(t.getPath(!1,["status","distance"]),t,"h").write("</span></div>")}function z(e,t){return e.write("'").reference(t.getPath(!1,["status","yards_to_endzone"]),t,"h").write("' !== '0'")}function W(e,t){return e.write("\n\n").write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n").write("</li>").write("\n").write("\n\n")}function X(e,t){return e.write("\n\n").write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n").write("</li>").write("\n").write("\n\n")}function V(e,t){return e.write("\n\n").write("\n").write('<li class="Grid-U Va-m">').write("\n    ").write('<div class="Fz-xs" data-attr="status.label">').reference(t.getPath(!1,["status","label"]),t,"h").write("</div>").write("\n").write("</li>").write("\n").write("\n\n")}function $(e,t){return e.reference(t.getPath(!1,["league","id"]),t,"h")}function J(e,t){return e.reference(t.getPath(!1,["status","type"]),t
,"h")}return dust.register("td-applet-scores-templates-score",e),e}()}(),dust.cache["td-applet-scores:score.dust"]=dust.cache["td-applet-scores:score"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-scores/templates/score"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-scores-mainview",function(e){"use strict";var t=250;e.namespace("TD.Scores").MainView=e.Base.create("TDScoresMainView",e.Af.AppletView,[e.Mjata.Binder],{module:"Scores",autoRender:!1,events:{".SimpleTabs a":{click:"handleRange"}},initializer:function(t){var n=this.get("model"),r=n.getDataModel("scores");r.plug(e.Af.Poll),t.auto_update&&this.updatePolling(),this.mjataBind(e.TD.Scores.Model,this.get("container"),{ctx:function(){return{user_settings:n.get("settings")}}}),r.after("reset",this.forceRender,this),r.after("*:refresh",this.refreshScores,this),n.after("stateChange",this.refreshScores,this),n.after("settingsChange",this.refreshScores,this)},refreshScores:function(){this._throttledRefresh||(this._throttledRefresh=e.Af.Utils.throttle(e.bind(function(){var n=this.get("model"),r=n.getDataModel("scores"),i=n.get("user_settings"),s=n.get("state");r.load(e.merge(i,s),e.bind(function(e,t){this.updatePolling()},this))},this),t)),this._throttledRefresh()},updatePolling:function(){var t,n,r=this.get("model"),i=r.getDataModel("scores"),s=r.get("user_settings"),o=r.get("state"),u=r.get("config");t=i.hasLiveGames(),n=u.states[t?"live":"not-live"].interval;if(e.Af.Config.isFeatureOn("scorespipe")||i.get("enablePipe"))n=Math.max(u.pipe.min_polling_interval,n);i.poll.update({interval:n},e.merge(s,o))},handleRange:function(e){var t=e.currentTarget.getAttribute("data-range");this.get("model").set("state.range",t),e.preventDefault()},destructor:function(){this.get("model").getDataModel("scores").poll.end(),this.mjataUnbind()}})},"@VERSION@",{requires:["af-applet-view","af-config","af-poll","mjata-binder","stencil-toggle","td-applet-scores-templates-score","td-scores-model"]});
;YUI.add("td-scores-footerview",function(e,t){"use strict";e.namespace("TD.Scores").FooterView=e.Base.create("TDScoresFooterView",e.Af.AppletView,[],{autoRender:!1,events:{"#ysp-more-scores":{click:"handleScoreLinkClick"}},handleScoreLinkClick:function(e){var t=this.get("model"),n=t.get("user_settings"),r=n.league||"trending",i=t.get("config"),s;i.scores_links&&i.scores_links[r]&&(s=i.scores_links[r],e.shiftKey===!0||e.button===2?window.open(s):document.location=s)}})},"@VERSION@",{requires:["af-applet-view","af-utils"]});
;YUI.add("td-applet-scores-templates-header",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write("<div class='GridSpread'>").write("\n    ").write('<h2 class="Grid-U App-Title">Scoreboard</h2>').write("\n    ").write("<form class='Grid-U SelectBox ysp-league' action='' autocomplete=\"off\">").write("\n        ").write("<!-- the character here will be plugged before the string in the 'dropdown' -->").write("\n        ").write("<div class='SelectBox-Pick'><b class='SelectBox-Text'>").write("\n        ").section(n.getPath(!1,["config","applet","select_options"]),n,{block:t},{cur:n.getPath(!1,["user_settings","league"])}).write("\n        ").write("</b> <i class='Icon Va-m'>&#xe002;</i></div>").write("\n        ").write("<!-- '.Start-0' needs to be set on this select box so things work in a LTR context -->").write("\n        ").write('<select name="league" class=\'Start-0 js-applet-action\' data-plugin=\'selectbox\' data-applet-action="savesettings" data-applet-actioncfg="src:form.ysp-league;showview:main" data-setting="league">').write("\n            ").section(n.getPath(!1,["config","applet","select_options"]),n,{block:r},{cur:n.getPath(!1,["user_settings","league"])}).write("\n        ").write("</select>").write("\n        ").write("<noscript>&lt;button type='submit'&gt;Submit&lt;/button&gt;</noscript>").write("\n    ").write("</form>").write("\n").write("</div>").write("\n")}function t(e,t){return e.write("\n        ").helper("eq",t,{block:n},{key:t.get("cur"),value:t.get("value")}).write("\n        ")}function n(e,t){return e.write("\n            ").reference(t.get("title"),t,"h").write("\n        ")}function r(e,t){return e.write("\n            ").write('<option value="').reference(t.get("value"),t,"h").write('" ').helper("eq",t,{block:i},{key:t.get("cur"),value:t.get("value")}).write(">").reference(t.get("title"),t,"h").write("</option>").write("\n            ")}function i(e,t){return e.write("selected")}return dust.register("td-applet-scores-templates-header",e),e}()}(),dust.cache["td-applet-scores:header.dust"]=dust.cache["td-applet-scores:header"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-scores/templates/header"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-scores-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,y){return e.write("\n").write("<style>").write("\n  ").write(".LiveUpdate {background-color: #fbdb56 !important;}").write("\n").write("</style>").write("\n").write('<ul class="Fz-s SimpleTabs NoTextDecoration Mb-10">').write("\n    ").write('<li class="Grid-U').helper("eq",y,{block:t},{key:n,value:"prev"}).write('"><a class="Mend-20 Cur-p rapidnofollow" data-range="prev">').helper("if",y,{"else":r,block:i},{cond:s}).write("</a></li>").write("\n    ").write('<li class="Grid-U').helper("eq",y,{block:o},{key:u,value:"curr"}).write('"><a class="Mend-20 Cur-p rapidnofollow" data-range="curr">').helper("if",y,{"else":a,block:f},{cond:l}).write("</a></li>").write("\n    ").write('<li class="Grid-U').helper("eq",y,{block:c},{key:h,value:"next"}).write('"><a class="Mend-20 Cur-p rapidnofollow" data-range="next">').helper("if",y,{"else":p,block:d},{cond:v}).write("</a></li>").write("\n").write("</ul>").write("\n\n").write('<div class="Mb-8">').write("\n").section(y.getPath(!1,["data","scores"]),y,{"else":m,block:g},null).write("\n").write("</div>").write("\n")}function t(e,t){return e.write(" Selected")}function n(e,t){return e.reference(t.getPath(!1,["state","range"]),t,"h")}function r(e,t){return e.write("Yesterday")}function i(e,t){return e.write("Last Week")}function s(e,t){return e.write("'").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'nfl' || '").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'ncaaf'")}function o(e,t){return e.write(" Selected")}function u(e,t){return e.reference(t.getPath(!1,["state","range"]),t,"h")}function a(e,t){return e.write("Today")}function f(e,t){return e.write("Current Week")}function l(e,t){return e.write("'").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'nfl' || '").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'ncaaf'")}function c(e,t){return e.write(" Selected")}function h(e,t){return e.reference(t.getPath(!1,["state","range"]),t,"h")}function p(e,t){return e.write("Tomorrow")}function d(e,t){return e.write("Next Week")}function v(e,t){return e.write("'").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'nfl' || '").reference(t.getPath(!1,["user_settings","league"]),t,"h").write("' == 'ncaaf'")}function m(e,t){return e.write("\n").write("No Games Scheduled").write("\n")}function g(e,t){return e.write("\n").partial("score",t,null).write("\n")}return dust.register("td-applet-scores-templates-main",e),e}()}(),dust.cache["td-applet-scores:main.dust"]=dust.cache["td-applet-scores:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-scores/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-scores-templates-score"]});
;YUI.add("td-applet-scores-templates-footer",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write('<span class="LinkColor Cur-p" id="ysp-more-scores">More scores &raquo;</span>')}return dust.register("td-applet-scores-templates-footer",e),e}()}(),dust.cache["td-applet-scores:footer.dust"]=dust.cache["td-applet-scores:footer"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-scores/templates/footer"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-scores-templates-settings",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<label class="D-b Mb-10">').write("\n    ").write('<a href="http://sports.yahoo.com/personalize/edit">Set favorite teams &raquo;</a>').write("\n").write("</label>").write("\n").write('<label class="D-b">Display up to').write("\n").write('<select name="count">').write("\n    ").section(n.getPath(!1,["config","sizes"]),n,{block:t},{size:n.getPath(!1,["settings","count"])}).write("\n").write("</select>").write("\n").write("</label>")}function t(e,t){return e.write("\n    ").write('<option value="').reference(t.getPath(!0,[]),t,"h").write('"').helper("if",t,{block:n},{cond:r}).write(">").reference(t.getPath(!0,[]),t,"h").write("</option>").write("\n    ")}function n(e,t){return e.write(' selected="true"')}function r(e,t){return e.write("'").reference(t.get("size"),t,"h").write("' == '").reference(t.getPath(!0,[]),t,"h").write("'")}return dust.register("td-applet-scores-templates-settings",e),e}()}(),dust.cache["td-applet-scores:settings.dust"]=dust.cache["td-applet-scores:settings"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-scores/templates/settings"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;