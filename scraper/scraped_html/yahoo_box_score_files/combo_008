YUI.add("td-applet-nflquiz-lightbox-modalview",function(e,t){"use strict";var n=e.Af,r=e.namespace("TD.Applet");r.NflquizLightboxModalView=e.Base.create("TDAppletNflquizLightboxModalView",n.AppletView,[],{autoRender:!1,tmplPrefix:"td-applet-nflquiz-templates-",initializer:function(){this.set("name","lightbox-modal"),this.forceRender()},events:{"i.Icon":{click:function(){this.fire("close")}}}},{ATTRS:{container:{valueFn:function(){return e.Node.create("<div class='D-ib'></div>")}}}})},"@VERSION@",{requires:["node","af-applet-view","td-applet-nflquiz-templates-lightbox-modal"]});
;YUI.add("td-applet-nflquiz-templates-lightbox-endgame",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<p class="heading Fz-35">Congratulations!</p>').write("\n").write('<p class="caption Fz-l">You\'ve reached the end of the Internet.</p>').write("\n").helper("eq",n,{"else":t,block:o},{key:"ncaab",value:n.getPath(!1,["currentTeam","league"])}).write("\n")}function t(e,t){return e.write("\n    ").write('<p class="caption Fz-l">Go out and get some fresh air, or select a new team below to keep playing!</p>').write("\n    ").write("<form class=\"SelectBox Fz-2xl Mt-20\" autocomplete='off'>").write("\n        ").section(t.get("teamList"),t,{block:n},{cteam:t.getPath(!1,["currentTeam","wiki_id"])}).write("\n\n        ").write('<select class="Start-0" name="team_name" data-plugin="selectbox" data-setting="cteam">').write("\n            ").section(t.get("teamList"),t,{block:i},{cteam:t.getPath(!1,["currentTeam","wiki_id"])}).write("\n        ").write("</select>").write("\n    ").write("</form>").write("\n")}function n(e,t){return e.write("\n            ").helper("eq",t,{block:r},{key:t.get("cteam"),value:t.get("wiki_id")}).write("\n        ")}function r(e,t){return e.write("\n                ").write('<div class="SelectBox-Pick P-0 Bd-0"><span class="SelectBox-Text C-w Bd-0 Bxsh-n">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write('</span> <i class="Icon Va-m FastTrans">&#xe002;</i></div>').write("\n            ")}function i(e,t){return e.write("\n                ").write('<option value="').reference(t.get("wiki_id"),t,"h").write('" data-team-name="').reference(t.get("team_name"),t,"h").write('" ').helper("eq",t,{block:s},{key:t.get("cteam"),value:t.get("wiki_id")}).write(' class="C-n">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write("</option>").write("\n            ")}function s(e,t){return e.write("selected")}function o(e,t){return e.write("\n    ").write('<p class="caption Fz-l">Go out and get some fresh air!</p>').write("\n")}return dust.register("td-applet-nflquiz-templates-lightbox-endgame",e),e}()}(),dust.cache["td-applet-nflquiz:lightbox-endgame.dust"]=dust.cache["td-applet-nflquiz:lightbox-endgame"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/lightbox-endgame"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-nflquiz-lightbox-endgameview",function(e,t){"use strict";var n=e.Af,r=e.namespace("TD.Applet");r.NflquizLightboxEndgameView=e.Base.create("TDAppletNflquizLightboxEndgameView",n.AppletView,[],{autoRender:!1,tmplPrefix:"td-applet-nflquiz-templates-",initializer:function(){this.set("name","lightbox-endgame"),this.forceRender(),this.bindEvents()},bindEvents:function(){var e=this.get("container");e.one("select")&&e.one("select").on("change",function(e){var t=e.currentTarget.get("value");this.fire("teamChange",{wikiId:t})},this)}},{ATTRS:{container:{valueFn:function(){return e.Node.create("<div class='D-ib'></div>")}}}})},"@VERSION@",{requires:["node","af-applet-view","td-applet-nflquiz-templates-lightbox-endgame"]});
;YUI.add("td-applet-nflquiz-templates-lightbox",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div class="td-applet-nflquiz-lightbox-container Pos-r H-100 W-100" data-plugin="bquery"').write("\n     ").write("data-bquery='max-width:1024px=tablet'>").write("\n    ").write('<div class="td-applet-nflquiz-lightbox-content Pos-r H-100 W-100">').write("\n        ").exists(n.getPath(!1,["currentTeam","logo_500x500"]),n,{block:t},null).write("\n\n        ").write("\n        ").write('<div class="rightrail Fl-end Pos-r Ta-c Fw-100 H-100 C-w">').write("\n            ").write("\n            ").write('<div class="td-applet-nflquiz-lightbox-timer-container Pos-r Ma Mt-60"></div>').write("\n\n            ").write("\n            ").write('<div class="td-applet-nflquiz-lightbox-stats-container Pstart-20 Pend-20"></div>').write("\n\n            ").write("\n            ").write('<div class="Mt-40">').write("\n            ").helper("eq",n,{"else":r,block:i},{key:"tourney2014",value:n.getPath(!1,["config","fixedAd"])}).write("\n            ").write("</div>").write("\n        ").write("</div>").write("\n\n        ").write('<div class="contentarea Fw-200 Mt-0 C-w Pos-r">').write("\n            ").write("\n            ").write('<div class="H-0 W-0 Ov-h Op-0">\u2603</div>').write("\n\n            ").write('<div class="Mstart-40 Mt-60">').write("\n                ").write("<form class=\"SelectBox Fz-2xl M-0\" autocomplete='off'>").write("\n                    ").section(n.get("teamList"),n,{block:s},{cteam:n.getPath(!1,["currentTeam","wiki_id"])}).write("\n\n                    ").write('<select name="team_name" data-plugin="selectbox" data-setting="cteam">').write("\n                        ").section(n.get("teamList"),n,{block:u},{cteam:n.getPath(!1,["currentTeam","wiki_id"])}).write("\n                    ").write("</select>").write("\n                ").write("</form>").write("\n                ").write("\n                ").write('<div class="td-applet-nflquiz-lightbox-question Pos-r"></div>').write("\n            ").write("</div>").write("\n        ").write("</div>").write("\n    ").write("</div>").write("\n\n    ").write("\n    ").write('<div class="pause_play_buttons Fz-m Pos-a">').write("\n        ").write('<a class="pause Bg-n Bd-0 P-16 Tt-u Td-n Cur-p rapidnofollow"><span>pause</span><i class="Icon Fz-xs Mstart-4">&#xe060;</i></a>').write("\n        ").write('<a class="play Bg-n Bd-0 P-16 Tt-u Td-n Cur-p rapidnofollow"><span>play</span><i class="Icon Fz-l Va-m Mstart-0">&#xe005;</i></a>').write("\n    ").write("</div>").write("\n").write("</div>").write("\n\n").write("\n").write('<div class="td-applet-nflquiz-lightbox-modal Dn GridVCenter Pos-a T-0 Start-0 M-0 P-0 W-100 H-100 Fw-100 C-w Ta-c">').write("\n").write("</div>").write("\n\n").write("\n").write('<button class="ButtonNaked Fz-l Dimmed Pos-a T-0 End-0 P-2 M-10" data-plugin="lightbox" data-lightbox=\'{"default":"hide"}\'>').write("\n    ").write('<i class="Icon">&#xe009;</i>').write("\n").write("</button>").write("\n")}function t(e,t){return e.write("\n        ").write('<div class="td-applet-nflquiz-lightbox-large-logo Pos-a T-0 H-100 W-75" style="background-image: url(http').section(t.getPath(!1,["config","ssl"]),t,{block:n},null).write(":").reference(t.getPath(!1,["currentTeam","logo_500x500"]),t,"h").write(');"></div>').write("\n        ")}function n(e,t){return e.write("s")}function r(e,t){return e.write("\n                ").helper("ads",t,{},{pos:t.getPath(!1,["config","adPos"])}).write("\n            ")}function i(e,t){return e.write("\n                ").write('<iframe src="https://view.atdmt.com/AVE/iview/472949273/direct;wi.300;hi.250/01" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="300" height="250">').write("\n                ").write("</iframe>").write("\n                ").write('<img src="https://view.atdmt.com/AVE/view/472949281/direct;wi.1;hi.1/01/" border=0 width=1 height=1 alt="Advertisement">').write("\n            ")}function s(e,t){return e.write("\n                        ").helper("eq",t,{block:o},{key:t.get("cteam"),value:t.get("wiki_id")}).write("\n                    ")}function o(e,t){return e.write("\n                            ").write('<div class="SelectBox-Pick"><span class="SelectBox-Text Bd-0">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write('</span> Trivia <i class="Icon Va-m FastTrans">&#xe002;</i></div>').write("\n                        ")}function u(e,t){return e.write("\n                            ").write('<option value="').reference(t.get("wiki_id"),t,"h").write('" data-team-name="').reference(t.get("team_name"),t,"h").write('" ').helper("eq",t,{block:a},{key:t.get("cteam"),value:t.get("wiki_id")}).write(' class="C-n">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write("</option>").write("\n                        ")}function a(e,t){return e.write("selected")}return dust.register("td-applet-nflquiz-templates-lightbox",e),e}()}(),dust.cache["td-applet-nflquiz:lightbox.dust"]=dust.cache["td-applet-nflquiz:lightbox"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/lightbox"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-nflquiz-lightboxview",function(e,t){"use strict";var n=e.Af,r=e.namespace("TD.Applet"),i={};i={Running:function(e){this.NAME="Running",this.handleEvent=function(t){switch(t.type){case"answered":e.answer(t.choiceId),e.fetchAd(),e.set("gameState",i.getState(i.ShowingAnswer,e));break;case"timedOut":e.set("gameState",i.getState(i.ShowingAnswer,e));break;case"outOfQuestions":e.set("gameState",i.getState(i.OutOfQuestions,e));break;default:}}},ShowingAnswer:function(e){this.NAME="ShowingAnswer",this.handleEvent=function(t){switch(t.type){case"triggerTeamChange":e.changeTeam(t.wikiId),e.set("gameState",i.getState(i.ChangingTeams,e));break;case"next":case"userReadFactoid":e.set("gameState",i.getState(i.Running,e));break;case"pause":e.set("gameState",i.getState(i.Paused,e));break;case"afk":e.set("gameState",i.getState(i.Afk,e))}}},Paused:function(e){this.NAME="Paused",this.handleEvent=function(t){switch(t.type){case"triggerTeamChange":e.changeTeam(t.wikiId),e.set("gameState",i.getState(i.ChangingTeams,e));break;case"next":e.set("gameState",i.getState(i.Running,e));break;case"outOfQuestions":e.set("gameState",i.getState(i.OutOfQuestions,e))}}},ChangingTeams:function(e){this.NAME="ChangingTeams",this.handleEvent=function(t){switch(t.type){case"teamChanged":e.set("gameState",i.getState(i.Running,e))}}},Afk:function(e){this.NAME="Afk",this.handleEvent=function(t){switch(t.type){case"next":e.set("gameState",i.getState(i.Running,e))}}},OutOfQuestions:function(e){this.NAME="OutOfQuestions",this.handleEvent=function(t){switch(t.type){case"triggerTeamChange":e.changeTeam(t.wikiId),e.set("gameState",i.getState(i.ChangingTeams,e))}}},Error:function(e){this.NAME="Error",this.handleEvent=function(){}},getState:function(e,t){return new e(t)}},r.NflquizLightboxView=e.Base.create("TDAppletNflquizLightboxView",n.AppletView,[],{autoRender:!1,tmplPrefix:"td-applet-nflquiz-templates-",initializer:function(){var e=this.get("speedbox").get("model").get("config");this.set("name","lightbox"),this.rapid=new r.NflquizRapidObs,this.timedGame=this.get("model"),this.questions=this.timedGame.get("game").get("questions"),this.forceRender(),this.createSubviews(),this.bindEvents(),this.keyboardListeners={},this.set("gameState",new i.ShowingAnswer(this)),this.rapid.trackLightboxPageView(this.questionView.get("model")),this.configureAd(),this.fetchAd(),this.triggerEndGame=e.endGame,this.protocol=this.get("speedbox").game.get("config").ssl?"https":"http"},destructor:function(){this.timerView.destroy(),this.questionView.destroy(),this.statsView.destroy();var e=this.get("model").get("game").get("config").adPos;this.get("container").one("#yom-ad-"+e+"-iframe").remove(!0)},events:{".pause_play_buttons .pause":{click:"pauseFactoid"},".pause_play_buttons .play":{click:function(){this.nextQuestion({tracking:!0})}}},createSubviews:function(){var e=this.get("container");this.questionView=new r.NflquizLightboxQuestionView({model:this.get("answered").question,initialChoiceId:this.get("answered").choiceId,type:this.get("type"),guid:this.get("guid"),game:this.timedGame}),e.one(".td-applet-nflquiz-lightbox-question").append(this.questionView.get("container")),this.timerView=new r.NflquizLightboxTimerView({model:this.timedGame.get("timer"),type:this.get("type"),guid:this.get("guid")}),e.one(".td-applet-nflquiz-lightbox-timer-container").append(this.timerView.get("container")),this.statsView=new r.NflquizLightboxStatsView({model:this.timedGame.get("game"),type:this.get("type"),guid:this.get("guid")}),e.one(".td-applet-nflquiz-lightbox-stats-container").append(this.statsView.get("container"))},bindEvents:function(){var e=this;this.questionView.on("answered",function(t){e.rapid.trackLightboxAnswer(t.choiceId,t.question),e.get("gameState").handleEvent({type:"answered",choiceId:t.choiceId})}),this.questionView.on("next",function(){e.nextQuestion({tracking:!0})}),this.questionView.after("factoidPresented",function(){e.factoidReadTimeout=setTimeout(function(){e.get("gameState").handleEvent({type:"userReadFactoid"})},7500)}),this.timedGame.on("afk",function(){e.get("gameState").handleEvent({type:"afk"})}),this.timedGame.on("timedOut",function(t){e.get("gameState").handleEvent({type:"timedOut"})}),this.timedGame.get("game").after("currentTeamChange",function(t){e.get("gameState").handleEvent({type:"teamChanged"})}),this.on("gameStateChange",function(t){e.configureForGameState(t.newVal)}),this.get("container").one(".td-applet-nflquiz-lightbox-content select").on("change",function(t){var n=t.currentTarget.get("value");e.get("gameState").handleEvent({type:"triggerTeamChange",wikiId:n})})},configureForGameState:function(e){switch(e.NAME){case"Running":clearTimeout(this.factoidReadTimeout),this.dismissModalDialog(),this.disableTeamSelection();var t=this.timedGame.get("game").get("currentTeam").logo_500x500;t&&this.get("container").one(".td-applet-nflquiz-lightbox-large-logo").setStyle("backgroundImage","url("+this.protocol+":"+t+")"),this.get("container").one(".pause_play_buttons").hide(),this.presentNextQuestion();break;case"Paused":this.enableTeamSelection(),this.get("container").one(".pause_play_buttons .play").show(),this.get("container").one(".pause_play_buttons .pause").hide(),this.get("container").one(".pause_play_buttons").show();break;case"ShowingAnswer":this.enableTeamSelection(),this.get("container").one(".pause_play_buttons .play").hide(),this.get("container").one(".pause_play_buttons .pause").show(),this.get("container").one(".pause_play_buttons").show();break;case"Afk":this.presentAfkDialog();break;case"OutOfQuestions":this.enableTeamSelection(),this.presentOutOfQuestionsDialog()}},attachKeyboardListeners:function(){var t=this;this.keyboardListeners.next=function(){t.get("gameState").handleEvent({type:"next"})},this.keyboardListeners.close=function(){t.get("container").hasPlugin("StencilLightBox").hide()},this.questionView.attachKeyboardListeners(),e.one("doc").on("key",this.keyboardListeners.close,"esc"),e.one("doc").on("key",this
.keyboardListeners.next,"enter,32,39,40")},detachKeyboardListeners:function(){var t;for(t in this.keyboardListeners)this.keyboardListeners.hasOwnProperty(t)&&e.one("doc").detach("key",this.keyboardListeners[t]);this.questionView.detachKeyboardListeners()},disableTeamSelection:function(){var e=this.get("container").one("select[name=team_name]");e.setAttribute("disabled",!0),e.setStyle("cursor","default"),e.siblings("div.SelectBox-Pick").shift().one(".Icon").addClass("Op-0")},enableTeamSelection:function(){var e=this.get("container").one("select[name=team_name]");e.removeAttribute("disabled"),e.setStyle("cursor",undefined),e.siblings("div.SelectBox-Pick").shift().one(".Icon").removeClass("Op-0")},pauseFactoid:function(){var e=this.questionView.get("model");this.get("gameState").handleEvent({type:"pause"}),this.rapid.trackLightboxPause(e)},nextQuestion:function(e){var t;this.get("gameState").handleEvent({type:"next"}),e&&e.tracking&&(t=this.questionView.get("model"),this.rapid.trackLightboxSkip(t))},answer:function(e){var t=this.questionView.get("model");this.timedGame.answered(t,e)},presentNextQuestion:function(){var e=this;this.questionView.get("container").addClass("Op-0"),this.questions.getCurrentQuestion().then(function(t){if(t===null||e.triggerEndGame){e.get("gameState").handleEvent({type:"outOfQuestions"});return}setTimeout(function(){e.questionView.set("model",t),e.questionView.get("container").removeClass("Op-0"),e.timedGame.start(),e.rapid.trackLightboxPageView(t)},300)})},presentModalDialog:function(e){var t=this.get("container").one(".td-applet-nflquiz-lightbox-modal");this.modalDialogView=e,t.append(this.modalDialogView.get("container")),this.get("container").one(".td-applet-nflquiz-lightbox-container").hide(),t.removeClass("Dn")},dismissModalDialog:function(){var e=this.get("container");this.modalDialogView&&(this.modalDialogView.detachAll(),this.modalDialogView.destroy()),e.one(".td-applet-nflquiz-lightbox-modal").addClass("Dn"),e.one(".td-applet-nflquiz-lightbox-modal").empty(),e.one(".td-applet-nflquiz-lightbox-container").show()},presentAfkDialog:function(){var t=new r.NflquizLightboxModalView({model:new e.Model({iconGlyph:"\ue05c",headingText:"Click play to resume",captionText:["We've paused your game due to inactivity."]})});t.on("close",function(){this.nextQuestion({tracking:!0})},this),this.presentModalDialog(t)},presentOutOfQuestionsDialog:function(){var e=new r.NflquizLightboxEndgameView({model:this.timedGame});e.on("teamChange",function(e){var t=this.get("container").one(".td-applet-nflquiz-lightbox-content select");t.set("value",e.wikiId),t.simulate("change")},this),this.presentModalDialog(e)},changeTeam:function(e){var t=this;this.questions.getCurrentQuestion().then(function(e){t.rapid.trackLightboxTeamChange(e)}),this.get("speedbox").changeTeam(e)},configureAd:function(){var e=this.get("model").get("game"),t=e.get("config"),n=t.adPos,r=t.lightbox_spaceid||t.spaceid,i={ps:n,name:"darla_td",sp:r,npv:"1"};t.ads.position[n]||(t.ads.position[n]={w:"300",h:"250"});if(!window.DARLA_CONFIG||!window.DARLA||!window.DARLA_CONFIG.hasOwnProperty("events"))return!0;window.DARLA.add(i),window.DARLA.hasPos(n)||window.DARLA.addPos({pos:n,clean:"yom-ad-"+n,dest:"yom-ad-"+n+"-iframe",h:t.ads.position[n].h,id:n,w:t.ads.position[n].w})},fetchAd:function(){window.hasOwnProperty("DARLA_CONFIG")&&window.hasOwnProperty("DARLA")&&window.DARLA.event("darla_td")}},{ATTRS:{container:{valueFn:function(){var t=e.Node.create('<div class="td-applet-nflquiz-lightbox"></div>');return t.addClass("Modal Modal-off Dn P-0 W-100 H-100"),t.setStyles({backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:"black","-webkit-font-smoothing":"auto"}),t}}}})},"@VERSION@",{requires:["node","node-event-simulate","af-applet-view","model","dust","stencil-bquery","stencil-selectbox","td-applet-nflquiz-game-model","td-applet-nflquiz-rapid-obs","td-applet-nflquiz-lightbox-timerview","td-applet-nflquiz-lightbox-statsview","td-applet-nflquiz-lightbox-questionview","td-applet-nflquiz-lightbox-modalview","td-applet-nflquiz-lightbox-endgameview","td-applet-nflquiz-templates-lightbox"]});
;YUI.add("td-applet-nflquiz-gametimer-model",function(e,t){"use strict";var n=e.Af,r=e.namespace("TD.Applet");r.NflquizGameTimer=e.Base.create("TDAppletNflquizGameTimer",e.Model,[],{initializer:function(e){var t=e.duration||15;this.set("duration",t),this.set("timeLeft",t),this.startTime=null,this.timeToNextTick=0,this.timerInterval=null,this.timeoutToNextTick=null},start:function(){if(this.timerInterval)return;var e=this;this.startTime=(new Date).getTime(),this.timeToNextTick>0?this.timeoutToNextTick=setInterval(function(){e.timerInterval=setInterval(function(){e.tick()},1e3)},this.timeToNextTick):e.timerInterval=setInterval(function(){e.tick()},1e3)},tick:function(){var e=this.get("duration"),t=this.get("timeLeft");t-=1,this.set("timeLeft",t),t===0&&(this.pause(),this.fire("expired"))},pause:function(){this.timeoutToNextTick&&(clearTimeout(this.timeoutToNextTick),this.timeoutToNextTick=null),this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null);var e=(new Date).getTime()-this.startTime;this.timeToNextTick=1e3-e%1e3,this.fire("paused")},reset:function(){this.pause(),this.startTime=null,this.timeToNextTick=null,this.fire("reset"),this.set("timeLeft",this.get("duration"))}})},"@VERSION@",{requires:["model"]});
;YUI.add("td-applet-nflquiz-timedgame-model",function(e,t){"use strict";var n=3;e.namespace("TD.Applet").NflquizTimedGame=e.Base.create("TDAppletNflquizTimedGame",e.Model,[],{readonly:!0,initializer:function(){var t=this;e.Model.prototype.initializer.apply(this,arguments),this.game=this.get("game"),this.timer=this.get("timer"),this.expiredCount=0,this.timer.on("expired",function(){t.game.get("questions").getCurrentQuestion().then(function(e){t.game.skipped(e),t.fire("timedOut"),t.expiredCount+=1,t.expiredCount===n&&(t.fire("afk"),t.expiredCount=0)})})},answered:function(){return this.expiredCount=0,this.timer.pause(),e.TD.Applet.NflquizGameModel.prototype.answered.apply(this.game,arguments)},start:function(){this.timer.reset(),this.timer.start()},toJSON:function(){return this.get("game").toJSON()}})},"@VERSION@",{requires:["model","td-applet-nflquiz-game-model"]});
;YUI.add("td-applet-nflquiz-speedboxview",function(e,t){"use strict";var n=e.Af,r=e.namespace("TD.Applet");r.NflquizSpeedBoxView=e.Base.create("TDAppletNflquizSpeedBoxView",n.AppletView,[n.CompositeView],{autoRender:!1,initializer:function(){var e=this.get("model").get("config");this.rapid=new r.NflquizRapidObs,this.delayBeforeNextQuestion=4500,this.questions=this.get("model").getDataModel("questions"),this.game=this.get("model").getDataModel("game"),this.game.setAttrs({questions:this.questions}),this.isLightboxMode=e.isLightboxMode,this.timerDuration=e.duration||15,this.protocol=this.game.get("config").ssl?"https":"http",this.createSubviews(),this.bindEvents()},destructor:function(){this.streaksView.destroy(),this.questionView&&this.questionView.destroy(),this.lightboxView&&this.lightboxView.destroy()},createSubviews:function(){var e=this;this.streaksView=new r.NflquizSpeedBoxStreakCounterView({type:this.get("type"),guid:this.get("guid"),container:this.get("container").one("[data-region=speedbox-streak-counter]"),model:this.game}),this.streaksView.attachEvents(),this.questions.getCurrentQuestion().then(function(t){e.questionView=new r.NflquizSpeedBoxNextView({model:t,type:e.get("type"),guid:e.get("guid"),container:e.get("container").one("[data-region=speedbox-next]"),opts:{animateUserResponse:!e.isLightboxMode}}),e.questionView.attachEvents(),e.questionView.on("answered",e.answered,e),e.isLightboxMode||(e.questionView.on("answeredAnimationComplete",e.transitionToNextQuestion,e),e.questionView.on("skipToNextQuestion",function(){e.questions.getCurrentQuestion().then(function(t){e.presentNextQuestion(t)})}))})},bindEvents:function(){var e=this,t=this.get("applet").get("container");this.game.on("currentTeamChange",function(){e.lightboxView||e.questions.getCurrentQuestion().then(function(t){e.presentNextQuestion(t)})}),t.one("select")&&t.one("select").on("change",function(e){var t,n=e.currentTarget,r,i;this.lightboxView||(t=this.questionView.get("model"),this.rapid.trackTeamChange(t)),r=n.get("options").item(n.get("selectedIndex")),i=this.game.switchTeam(r.get("value")),i&&this.presentTeamChange(i)},this),t.one(".SelectBox")&&t.one(".SelectBox").on("focus",this.dropdownFocus,this)},answered:function(t){var n=this.questionView.get("model"),r;this.rapid.trackAnswer(t.choiceId,n),this.game.answered(n,t.choiceId),this.isLightboxMode&&(r=e.bind(function(){this.presentLightbox(n,t.choiceId)},this),n.isCorrect(t.choiceId)?r():setTimeout(r,750))},transitionToNextQuestion:function(){var e=this;e.questions.getCurrentQuestion().then(function(t){e.transitionTimeout=setTimeout(function(){e.presentNextQuestion(t)},e.delayBeforeNextQuestion)})},presentNextQuestion:function(e){var t=this.questionView;this.transitionTimeout&&(clearTimeout(this.transitionTimeout),delete this.transitionTimeout),t.get("container").addClass("Op-0"),setTimeout(function(){t.set("model",e),t.get("container").removeClass("Op-0"),setTimeout(function(){t.isAcceptingAnswers=!0},600)},300)},changeTeam:function(e){var t=this.get("applet").get("container").one(".td-applet-nflquiz-speedbox-header select");t.set("value",e),t.simulate("change")},presentTeamChange:function(e){var t=this.get("applet").get("container").one(".td-applet-nflquiz-speedbox-header span.logo");t.removeAttribute("class").addClass("logo").addClass("logo-"+e.team_name.replace(/\s/,""))},dropdownFocus:function(e){var t=this.questionView.get("model");this.rapid.trackDropdownFocus(t)},presentLightbox:function(t,n){var i=this,s,o,u,a=this.get("model").getDataModel("game"),f={http:{nfl:"http://l.yimg.com/os/publish-images/sports/2013-08-29/93692e9f-cb30-4a08-a265-543c2e47bbd5_nfl_blurred.jpg",nba:"http://l.yimg.com/os/publish-images/sports/2013-08-29/0fbbd33f-f737-4669-b437-c01090e1b59d_nba_blurred.jpg",ncaab:"http://l.yimg.com/j/assets/ipt/bestbuy_tourney3.jpg"},https:{nfl:"https://s.yimg.com/os/publish-images/sports/2013-08-29/93692e9f-cb30-4a08-a265-543c2e47bbd5_nfl_blurred.jpg",nba:"https://s.yimg.com/os/publish-images/sports/2013-08-29/0fbbd33f-f737-4669-b437-c01090e1b59d_nba_blurred.jpg",ncaab:"https://sp.yimg.com/j/assets/ipt/bestbuy_tourney3.jpg"}};this.lightboxView||(s=new r.NflquizGameTimer({duration:this.timerDuration}),o=new r.NflquizTimedGame({timer:s,game:a}),this.lightboxView=new r.NflquizLightboxView({model:o,type:this.get("type"),guid:this.get("guid"),answered:{question:t,choiceId:n},speedbox:this})),u=this.lightboxView.get("container"),u.setStyle("backgroundImage","url("+f[this.protocol][a.get("currentTeam").league]+")"),a.get("currentTeam").league==="ncaab"&&u.setStyles({backgroundRepeat:"repeat no-repeat",backgroundPosition:"-340px 0"}),this.get("container").append(u),e.Stencil.LightBox("show",u,{autohide:!1,closebtn:!1}),u.after("lightbox:show",function(){var e=u.one("[data-plugin=bquery]").hasPlugin("StencilBquery");setTimeout(function(){e.handleResize()},e.throttle)}),u.after("lightbox:show",function(){i.lightboxView.attachKeyboardListeners()}),u.on("lightbox:hide",function(){i.lightboxView.detachKeyboardListeners()}),u.after("lightbox:hide",function(){setTimeout(function(){i.lightboxView.destroy({remove:!0}),s.pause(),delete i.lightboxView},1)}),u.on("lightbox:hide",function(){i.questions.advanceToRandomQuestion().then(function(e){i.questionView.set("model",e),i.questionView.isAcceptingAnswers=!0})})}})},"@VERSION@",{requires:["node","node-event-simulate","af-applet-view","stencil-lightbox","stencil-selectbox","td-applet-nflquiz-speedbox-nextview","td-applet-nflquiz-speedbox-streak-counterview","td-applet-nflquiz-lightboxview","td-applet-nflquiz-game-model","td-applet-nflquiz-gametimer-model","td-applet-nflquiz-timedgame-model","td-applet-nflquiz-rapid-obs"]});
;YUI.add("td-applet-nflquiz-templates-speedbox-header",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div class="GridSpread td-applet-nflquiz-speedbox td-applet-nflquiz-speedbox-header ').reference(n.getPath(!1,["game","currentTeam","league"]),n,"h").write('">').write("\n    ").write('<h2 class="Grid-U App-Title Fw-n">Trivia</h2>').write("\n    ").write(" ").write("\n    ").helper("ne",n,{block:t},{key:"ncaab",value:n.getPath(!1,["game","currentTeam","league"])}).write("\n").write("</div>").write("\n")}function t(e,t){return e.write("\n    ").write('<div class="Grid-U">').write("\n        ").write('<span class="Va-t Mend-8 Mt-neg-4 D-ib"><span class="logo logo-').reference(t.getPath(!1,["game","currentTeam","team_name"]),t,"h").write('"></span></span>').write("\n\n        ").write('<form class="Grid-U SelectBox nflquiz-cteam" action="" autocomplete=\'off\'>').write("\n            ").section(t.getPath(!1,["game","teamList"]),t,{block:n},{cteam:t.getPath(!1,["game","currentTeam","wiki_id"])}).write("\n\n            ").write('<select class="Start-0" name="team_name" data-plugin="selectbox" data-setting="cteam">').write("\n                ").section(t.getPath(!1,["game","teamList"]),t,{block:i},{cteam:t.getPath(!1,["game","currentTeam","wiki_id"])}).write("\n            ").write("</select>").write("\n            ").write('<noscript><button type="submit">Submit</button></noscript>').write("\n        ").write("</form>").write("\n    ").write("</div>").write("\n    ")}function n(e,t){return e.write("\n                ").helper("eq",t,{block:r},{key:t.get("cteam"),value:t.get("wiki_id")}).write("\n            ")}function r(e,t){return e.write("\n                    ").write('<div class="SelectBox-Pick"><b class="SelectBox-Text">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write('</b> <i class="Icon">&#xe002;</i></div>').write("\n                ")}function i(e,t){return e.write("\n                    ").write('<option value="').reference(t.get("wiki_id"),t,"h").write('" data-team-name="').reference(t.get("team_name"),t,"h").write('" ').helper("eq",t,{block:s},{key:t.get("cteam"),value:t.get("wiki_id")}).write(' class="C-n">').reference(t.get("location"),t,"h").write(" ").reference(t.get("team_name"),t,"h").write("</option>").write("\n                ")}function s(e,t){return e.write("selected")}return dust.register("td-applet-nflquiz-templates-speedbox-header",e),e}()}(),dust.cache["td-applet-nflquiz:speedbox-header.dust"]=dust.cache["td-applet-nflquiz:speedbox-header"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/speedbox-header"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-nflquiz-templates-speedbox-next",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div class="speedbox-question W-100 GridTable">').write("\n    ").write('<p class="GridTable-Cell Fz-m Mb-4 Lh-12 Pt-18">').reference(n.getPath(!1,["question","questionText"]),n,"h").write("</p>").write("\n").write("</div>").write("\n").write('<div class="W-100 Pos-r">').write("\n    ").section(n.get("choices"),n,{block:t},null).write("\n    ").write('<div class="factoid W-100 Dn Pos-a Bdrs Bxz-bb FastTrans Bfc">').write("\n        ").write('<div class="factoid-text P-8"></div>').write("\n    ").write("</div>").write("\n").write("</div>").write("\n").write('<div class="skiparrow-container Dn Mstart-6 FastTrans Pos-a B-0 End-0">').write("\n    ").write('<span class="D-ib Va-m">Next Question</span><i class="Icon Fw-b Fz-3xs Mstart-8 Mend-6">&#xe024;</i>').write("\n").write("</div>").write("\n").write('<div class="skip Dn W-100 H-100 Pos-a T-0 Start-0 Bgc-t Cur-p Z-1"></div>').write("\n")}function t(e,t){return e.write("\n        ").write("<a class='Pos-a Z-1 Btn Bd-1 W-100 Fw-n Td-n C-w quiz-button rapidnofollow' style=\"top: ").helper("math",t,{},{key:n,method:"multiply",operand:"43"}).write('px" data-choiceId="').reference(t.get("choiceId"),t,"h").write('">').write("\n            ").write('<span class="choice-text">').reference(t.get("choiceText"),t,"h").write("</span>").write("\n        ").write("</a>").write("\n    ")}function n(e,t){return e.reference(t.get("$idx"),t,"h")}return dust.register("td-applet-nflquiz-templates-speedbox-next",e),e}()}(),dust.cache["td-applet-nflquiz:speedbox-next.dust"]=dust.cache["td-applet-nflquiz:speedbox-next"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/speedbox-next"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-nflquiz-templates-stylesheets",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,i){return e.write("<style>").write("\n    ").write("@-webkit-keyframes td-applet-nflquiz-shake {").write("\n        ").write("0%, 100% {").write("\n            ").write("-webkit-transform: translateX(0);").write("\n        ").write("}").write("\n        ").write("10%, 30%, 50%, 70%, 90% {").write("\n            ").write("-webkit-transform: translateX(-5px);").write("\n        ").write("}").write("\n        ").write("20%, 40%, 60%, 80% {").write("\n            ").write("-webkit-transform: translateX(5px);").write("\n        ").write("}").write("\n    ").write("}").write("\n\n    ").write("@keyframes td-applet-nflquiz-shake {").write("\n        ").write("0%, 100% {").write("\n            ").write("transform: translateX(0);").write("\n        ").write("}").write("\n        ").write("10%, 30%, 50%, 70%, 90% {").write("\n            ").write("transform: translateX(-5px);").write("\n        ").write("}").write("\n        ").write("20%, 40%, 60%, 80% {").write("\n            ").write("transform: translateX(5px);").write("\n        ").write("}").write("\n    ").write("}").write("\n\n        ").write("/**").write("\n         ").write("* Sprites").write("\n         ").write("*/").write("\n    ").write(".td-applet-nflquiz-speedbox .sprite {").write("\n        ").write("background-repeat: no-repeat;").write("\n        ").write("display: inline-block;").write("\n        ").write("*display: inline;").write("\n        ").write("zoom: 1;").write("\n        ").write('background: url("http').section(i.getPath(!1,["game","config","ssl"]),i,{block:t},null).write('://media.zenfs.com/mit/td/nflquiz-0.0.18/sprite.png");').write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .sprite.sprite-check {").write("\n        ").write("height: 19px;").write("\n        ").write("width: 19px;").write("\n        ").write("background-position: -1px -10px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .logo {").write("\n        ").write("background-repeat: no-repeat;").write("\n        ").write("display: inline-block;").write("\n        ").write("*display: inline;").write("\n        ").write("zoom: 1;").write("\n        ").write("width: 40px;").write("\n        ").write("height: 40px;").write("\n    ").write("}").write("\n\n    ").section(i.getPath(!1,["game","config","ssl"]),i,{"else":n,block:r},null).write("\n\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Cardinals {").write("\n        ").write("background-position: -1120px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Falcons {").write("\n        ").write("background-position: -960px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Ravens {").write("\n        ").write("background-position: -160px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bills {").write("\n        ").write("background-position: 0px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Panthers {").write("\n        ").write("background-position: -1000px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bears {").write("\n        ").write("background-position: -800px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bengals {").write("\n        ").write("background-position: -200px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Browns {").write("\n        ").write("background-position: -240px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Cowboys {").write("\n        ").write("background-position: -640px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Broncos {").write("\n        ").write("background-position: -480px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Lions {").write("\n        ").write("background-position: -840px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Packers {").write("\n        ").write("background-position: -880px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Texans {").write("\n        ").write("background-position: -320px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Colts {").write("\n        ").write("background-position: -360px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Jaguars {").write("\n        ").write("background-position: -400px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Chiefs {").write("\n        ").write("background-position: -520px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Dolphins {").write("\n        ").write("background-position: -40px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Vikings {").write("\n        ").write("background-position: -920px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Patriots {").write("\n        ").write("background-position: -80px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Saints {").write("\n        ").write("background-position: -1040px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Giants {").write("\n        ").write("background-position: -680px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Jets {"
).write("\n        ").write("background-position: -120px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Raiders {").write("\n        ").write("background-position: -560px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Eagles {").write("\n        ").write("background-position: -720px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Steelers {").write("\n        ").write("background-position: -280px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Chargers {").write("\n        ").write("background-position: -600px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-49ers {").write("\n        ").write("background-position: -1200px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Seahawks {").write("\n        ").write("background-position: -1160px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Rams {").write("\n        ").write("background-position: -1240px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Buccaneers {").write("\n        ").write("background-position: -1080px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Titans {").write("\n        ").write("background-position: -440px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Redskins {").write("\n        ").write("background-position: -760px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Hawks {").write("\n        ").write("background-position: -400px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Celtics {").write("\n        ").write("background-position: 0px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Nets {").write("\n        ").write("background-position: -40px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bobcats {").write("\n        ").write("background-position: -440px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bulls {").write("\n        ").write("background-position: -200px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Cavaliers {").write("\n        ").write("background-position: -240px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Mavericks {").write("\n        ").write("background-position: -1000px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Nuggets {").write("\n        ").write("background-position: -600px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Pistons {").write("\n        ").write("background-position: -280px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Warriors {").write("\n        ").write("background-position: -800px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Rockets {").write("\n        ").write("background-position: -1040px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Pacers {").write("\n        ").write("background-position: -320px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Clippers {").write("\n        ").write("background-position: -880px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Lakers {").write("\n        ").write("background-position: -840px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Grizzlies {").write("\n        ").write("background-position: -1080px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Heat {").write("\n        ").write("background-position: -480px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Bucks {").write("\n        ").write("background-position: -360px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Timberwolves {").write("\n        ").write("background-position: -640px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Pelicans {").write("\n        ").write("background-position: -1120px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Knicks {").write("\n        ").write("background-position: -80px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Thunder {").write("\n        ").write("background-position: -680px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Magic {").write("\n        ").write("background-position: -520px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-76ers {").write("\n        ").write("background-position: -120px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Suns {").write("\n        ").write("background-position: -920px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-TrailBlazers, .td-applet-nflquiz-speedbox-header .logo-Trail {").write("\n        ").write("background-position: -720px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Kings {").write("\n        "
).write("background-position: -960px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Spurs {").write("\n        ").write("background-position: -1160px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Raptors {").write("\n        ").write("background-position: -160px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Jazz {").write("\n        ").write("background-position: -760px 0px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .logo-Wizards {").write("\n        ").write("width: 39px; /* temporary, while sprite is messed up */").write("\n        ").write("background-position: -561px 0px;").write("\n    ").write("}").write("\n\n        ").write("/*").write("\n         ").write("* Styles to match Sports Glass theme.").write("\n         ").write("* These should make their way into Sports CSS or we should").write("\n         ").write("* use a Stencil theme that matches Sports Glass when it becomes available.").write("\n         ").write("*/").write("\n    ").write(".td-applet-nflquiz-speedbox .quiz-button {").write("\n        ").write("background-color: #5771ff;").write("\n        ").write("border: none;").write("\n        ").write("padding: .5em;").write("\n        ").write("background-image: none;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .quiz-button:hover {").write("\n        ").write("background-color: #3651d8;").write("\n        ").write("border-color: rgb(95, 95, 95);").write("\n        ").write("border-color: rgba(188, 185, 185, 0.3);").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .quiz-button.correct,").write("\n    ").write(".td-applet-nflquiz-speedbox .quiz-button.correct:hover {").write("\n        ").write("background-color: #58912c;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .quiz-button.incorrect,").write("\n    ").write(".td-applet-nflquiz-speedbox .quiz-button.incorrect:hover {").write("\n        ").write("background-color: #ff5d42;").write("\n\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .factoid {").write("\n        ").write("background-color: #58912c;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .Focused {").write("\n        ").write("border: none;").write("\n        ").write("outline: 0;").write("\n        ").write("box-shadow: none;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .SelectBox-Pick {").write("\n        ").write("border-radius: 0;").write("\n        ").write("border-color: #ccc9c9;").write("\n        ").write("border-color: rgba(204, 201, 201, 0.35);").write("\n        ").write("padding: 5px 6px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .App-Title {").write("\n        ").write("color: inherit;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .streak-pos {").write("\n        ").write("color: #5eb351;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .speedbox-streak-counter {").write("\n        ").write("background-color: #353535;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox .current-streak,").write("\n    ").write(".td-applet-nflquiz-speedbox .longest-streak {").write("\n        ").write("font-weight: 300;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .speedbox-streak-counter {").write("\n        ").write("padding-bottom: 5px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .spacer,").write("\n    ").write(".td-applet-nflquiz-speedbox .skiparrow-container {").write("\n        ").write("color: #abaeb7;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .speedbox-next {").write("\n        ").write("height: 246px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .speedbox-question {").write("\n        ").write("height: 100px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .speedbox-question p {").write("\n        ").write("font-weight: 300;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox .factoid {").write("\n        ").write("height: 75px;").write("\n        ").write("top: 47px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-speedbox-header .App-Title {").write("\n        ").write("/* Necessary because of the width of Minnesota Timberwolves in speedbox header */").write("\n        ").write("margin-right: 15px !important;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox-header .SelectBox-Text {").write("\n        ").write("margin-right: 7px;").write("\n    ").write("}").write("\n\n    ").write("/*").write("\n     ").write("* Styles for lightbox").write("\n     ").write("*/").write("\n    ").write(".PageOverlay {").write("\n        ").write("z-index: 401;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .quiz-button > span:first-child {").write("\n        ").write("background-color: rgb(255, 255, 255);").write("\n        ").write("background-color: rgba(255, 255, 255, 0.8);").write("\n        ").write("border: 1px solid #fff;").write("\n        ").write("color: #3f3f3f;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .hoverable .quiz-button:hover > span:first-child {").write("\n        ").write("background-color: rgb(255, 255, 255);").write("\n        ").write("background-color: rgba(255, 255, 255, 1);").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .quiz-button span.correct {").write("\n        ").write("background-color: rgb(90, 126, 22);").write("\n        ").write("background-color: rgba(90, 126, 22, .90);"
).write("\n        ").write("color: #fff;").write("\n        ").write("border: 1px solid #81ac30;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .quiz-button span.incorrect {").write("\n        ").write("background-color: rgb(255, 93, 66);").write("\n        ").write("background-color: rgba(255, 93, 66, .70);").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-stats-container {").write("\n        ").write("margin-top: 35px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-current-streak-container,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-longest-streak-container,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-container,").write("\n    ").write(".td-applet-nflquiz-lightbox .factoid {").write("\n        ").write("background-color: rgb(26, 26, 26); /* #1a1a1a */").write("\n        ").write("background-color: rgba(26, 26, 26, 0.9); /* #1a1a1a */").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-current-streak-container,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-longest-streak-container {").write("\n        ").write("width: 149px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-current-streak-container,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-longest-streak-container {").write("\n        ").write("padding-bottom: 25px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox-stats-container .streak-pos {").write("\n        ").write("color: #5a7e16;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .skipchevron {").write("\n        ").write("color: #eee;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .pause_play_buttons {").write("\n        ").write("bottom: 20px;").write("\n        ").write("right: 340px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .pause_play_buttons a {").write("\n        ").write("color: #eee;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .skipchevron:hover,").write("\n    ").write(".td-applet-nflquiz-lightbox .pause_play_buttons a:hover {").write("\n        ").write("color: white !important;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox-modal {").write("\n        ").write("background-color: rgba(0, 0, 0, 0.5);").write("\n        ").write("letter-spacing: 0.04em;").write("\n        ").write("text-rendering: optimizeLegibility;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox-modal a:hover i {").write("\n        ").write("opacity: 0.6;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .factoid {").write("\n        ").write("min-height: 240px;").write("\n        ").write("min-width: 300px;").write("\n        ").write("width: 50%;").write("\n        ").write("max-width: 500px;").write("\n        ").write("-webkit-transform: scale(0.7);").write("\n        ").write("-moz-transform: scale(0.7);").write("\n        ").write("-ms-transform: scale(0.7);").write("\n        ").write("transform: scale(0.7);").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .question-text {").write("\n        ").write("max-width: 750px;").write("\n        ").write("text-rendering: optimizeLegibility;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .contentarea {").write("\n        ").write("margin-right: 340px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .rightrail {").write("\n        ").write("width: 340px;").write("\n        ").write("background-color: rgb(0, 0, 0);").write("\n        ").write("background-color: rgba(0, 0, 0, 0.5);").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .contentarea,").write("\n    ").write(".td-applet-nflquiz-lightbox .rightrail,").write("\n    ").write(".td-applet-nflquiz-lightbox .pause_play_buttons {").write("\n        ").write("-webkit-font-smoothing: antialiased;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-timer-countdown {").write("\n        ").write("top: 30px;").write("\n        ").write("font-size: 34px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-timer-unit {").write("\n        ").write("top: 60px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-timer {").write("\n        ").write("width: 120px;").write("\n        ").write("height: 120px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-current-streak,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-longest-streak,").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-correct-fraction {").write("\n        ").write("font-size: 34px;").write("\n        ").write("padding-top: 25px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-gauge-container {").write("\n        ").write("font-size: 34px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-gauge {").write("\n        ").write("width: 76px;").write("\n        ").write("height: 76px;").write("\n    ").write("}").write("\n\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-wrap {").write("\n        ").write("top: 4px;").write("\n        ").write("left: 13px;").write("\n    ").write("}").write("\n    ").write("/* special rules for 100% correct */").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-wrap.perfect {").write("\n        ").write("top: 2px;").write
("\n        ").write("left: 11px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .lightbox-percent-correct-wrap.perfect .lightbox-percent-correct {").write("\n        ").write("font-size: 24px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .afk-play {").write("\n        ").write("font-size: 120px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-correct-gauge-fuse {").write("\n        ").write("stroke: #262920;").write("\n        ").write("stroke-width: 6;").write("\n        ").write("fill: transparent;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .user-response {").write("\n        ").write("margin-top: 54px;").write("\n        ").write("-webkit-font-smoothing: antialiased;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .quiz-buttons {").write("\n        ").write("width: 40%;").write("\n        ").write("min-width: 300px;").write("\n        ").write("max-width: 400px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .quiz-button {").write("\n        ").write("-webkit-font-smoothing: antialiased;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .quiz-button-choice-text {").write("\n        ").write("padding-left: 23px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .incorrect {").write("\n        ").write("width: 30px;").write("\n        ").write("height: 30px;").write("\n        ").write("margin-top: 15px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .skiptarget {").write("\n        ").write("height: 400%;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .td-applet-nflquiz-lightbox-large-logo {").write("\n        ").write("opacity: 0.1;").write("\n        ").write("filter:alpha(opacity=10);").write("\n        ").write("background-repeat: no-repeat;").write("\n        ").write("background-position: 50% 80%;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .contentarea .SelectBox {").write("\n        ").write("color: #eee;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .contentarea .SelectBox-Pick {").write("\n        ").write("padding: 0;").write("\n        ").write("border: 0;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .contentarea .SelectBox-Text {").write("\n        ").write("box-shadow: none;").write("\n    ").write("}").write("\n\n    ").write("/*").write("\n     ").write("* Styles for lightbox in tablet landscape mode").write("\n     ").write("*/").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .content {").write("\n        ").write("margin-left: 15px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question div.question-text {").write("\n        ").write("font-size: 22px;").write("\n        ").write("font-weight: 200;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .quiz-buttons {").write("\n        ").write("min-width: 260px !important;").write("\n        ").write("width: 260px;").write("\n        ").write("margin-right: 15px !important;").write("\n        ").write("margin-bottom: 30px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .quiz-button {").write("\n        ").write("margin-bottom: 15px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .quiz-button-choice-text {").write("\n        ").write("padding-top: 11px;").write("\n        ").write("padding-bottom: 11px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .quiz-button .incorrect {").write("\n        ").write("margin-top: 10px !important;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .factoid {").write("\n        ").write("width: 370px;").write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-lightbox .tablet .td-applet-nflquiz-lightbox-question .user-response {").write("\n        ").write("margin-top: 25px !important;").write("\n    ").write("}").write("\n\n\n").write("</style>").write("\n")}function t(e,t){return e.write("s")}function n(e,t){return e.write("\n    ").write(".td-applet-nflquiz-speedbox.nfl .logo {").write("\n        ").write('background-image: url("http://l.yimg.com/os/mit/media/m/sports/images/team-logos/sprites/nfl-40-1524453.png");').write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox.nba .logo {").write("\n        ").write('background-image: url("http://l.yimg.com/os/mit/media/m/sports/images/team-logos/sprites/nba-40-1428368.png");').write("\n    ").write("}").write("\n    ")}function r(e,t){return e.write("\n    ").write(".td-applet-nflquiz-speedbox.nfl .logo {").write("\n        ").write('background-image: url("https://s.yimg.com/os/mit/media/m/sports/images/team-logos/sprites/nfl-40-1524453.png");').write("\n    ").write("}").write("\n    ").write(".td-applet-nflquiz-speedbox.nba .logo {").write("\n        ").write('background-image: url("https://s.yimg.com/os/mit/media/m/sports/images/team-logos/sprites/nba-40-1428368.png");').write("\n    ").write("}").write("\n    ")}return dust.register("td-applet-nflquiz-templates-stylesheets",e),e}()}(),dust.cache["td-applet-nflquiz:stylesheets.dust"]=dust.cache["td-applet-nflquiz:stylesheets"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/stylesheets"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
;YUI.add("td-applet-nflquiz-templates-speedbox-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,s){return e.section(s.getPath(!1,["game","dev","glassy"]),s,{block:t},null).write("\n\n").partial("td-applet-nflquiz:stylesheets",s,null).write("\n\n").write('<div class="td-applet-nflquiz-speedbox">').write("\n    ").write('<div data-region="speedbox-streak-counter" class="speedbox-streak-counter Pt-6 Px-10">').write("\n        ").write('<div class="GridSpread Fz-s">').write("\n            ").write("<p class='Grid-U My-0 Va-m'><span class=\"current-streak Fz-xl Mend-4 ").helper("gt",s,{block:n},{key:s.getPath(!1,["game","currentStreak"]),value:0}).write('">').helper("lt",s,{block:r},{key:s.getPath(!1,["game","currentStreak"]),value:10}).reference(s.getPath(!1,["game","currentStreak"]),s,"h").write("</span>&nbsp;Active Streak</p>").write("\n\n            ").write('<p class="Grid-U Mb-0 Mt-8 spacer">vs.</p>').write("\n\n            ").write('<p class="Grid-U My-0 Va-m"><span class="longest-streak Fz-xl Mend-4 ').helper("gt",s,{block:i},{key:s.getPath(!1,["game","longestStreak"]),value:0}).write('">').helper("lt",s,{block:o},{key:s.getPath(!1,["game","longestStreak"]),value:10}).reference(s.getPath(!1,["game","longestStreak"]),s,"h").write("</span>&nbsp;Best Streak</p>").write("\n        ").write("</div>").write("\n    ").write("</div>").write("\n\n    ").write('<div data-region="speedbox-next" class="speedbox-next Pos-r FastTrans">').write("\n        ").section(s.get("firstQuestion"),s,{block:u},null).write("\n    ").write("</div>").write("\n").write("</div>").write("\n").write("<div id='lightbox' class='Modal Modal-off Dn'></div>").write("\n")}function t(e,t){return e.write("\n").write("<style>").write("\n").write("/* This is only in development to help fix the look and feel to match GS */").write("\n").write("/* body styles only for dev */").write("\n").write("body {").write("\n  ").write("background-image: url(http://l.yimg.com/os/publish-images/sports/2013-08-29/93692e9f-cb30-4a08-a265-543c2e47bbd5_nfl_blurred.jpg);").write("\n  ").write("background-color: #0d0d0d;").write("\n  ").write("background-repeat: no-repeat;").write("\n  ").write("background-attachment: fixed;").write("\n  ").write("background-size: 100% 100%;").write("\n  ").write("width: 330px; }").write("\n\n").write(".App_v2 {").write("\n  ").write("top: 250px;").write("\n  ").write("color: white;").write("\n  ").write("border: none;").write("\n  ").write("background-color: black;").write("\n  ").write("background-color: #27282c;").write("\n").write("}").write("\n").write("</style>").write("\n")}function n(e,t){return e.write("streak-pos")}function r(e,t){return e.write("0")}function i(e,t){return e.helper("eq",t,{block:s},{key:t.getPath(!1,["game","currentStreak"]),value:t.getPath(!1,["game","longestStreak"])})}function s(e,t){return e.write("streak-pos")}function o(e,t){return e.write("0")}function u(e,t){return e.write("\n            ").partial("td-applet-nflquiz:speedbox-next",t,null).write("\n        ")}return dust.register("td-applet-nflquiz-templates-speedbox-main",e),e}()}(),dust.cache["td-applet-nflquiz:speedbox-main.dust"]=dust.cache["td-applet-nflquiz:speedbox-main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-nflquiz/templates/speedbox-main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust","td-applet-nflquiz-templates-stylesheets","td-applet-nflquiz-templates-speedbox-next"]});
;YUI.add("mjata-model-store",function(e,t){"use strict";function a(e){return e&&e.name&&e.id}function f(e){return e&&n.items&&n.items[e.name]||u}function l(e){var t=f(e),n,r;return!t||!t._constructor?u:(n=t._constructor.prototype.idAttribute||i,r=e[n]||e.id,r&&t.instances&&t.instances[r]||u)}function c(e){return e?{name:e.constructor.NAME,id:e.get(i)||e.idAttribute&&e.get(e.idAttribute)}:u}var n,r="alias_change",i="id",s=!0,o=!1,u=null;YUI.namespace("Env.Mjata").ModelStore=YUI.Env.Mjata.ModelStore||{items:{},aliases:{}},n=YUI.Env.Mjata.ModelStore,e.namespace("Mjata").ModelStore={register:function(t){if(!e.Lang.isFunction(t)||!t.NAME)return o;var r=t.NAME;return n.items[r]?o:(n.items[r]={_constructor:t,instances:{}},s)},alias:function(t,i,a){if(!t||!i)return o;a=e.merge({replace:s,remove:o},a);var f=this.getByAlias(t);return f===i?s:f&&!a.replace?o:(f&&a.replace&&this.unalias(t,{remove:a.remove,silent:s}),this.add(i,a)?(n.aliases[t]=i,i.onceAfter("destroy",function(n){this.unalias(t)},this),a.silent||this.fire(r,{alias:t,prevInstance:f?c(f):u,newInstance:c(i)}),s):o)},unalias:function(t,i){if(!t)return o;var a=n.aliases,f=a[t];return f?(i=e.merge({remove:s,silent:o},i),i.remove&&this.remove(f),delete a[t],i.silent||this.fire(r,{alias:t,prevInstance:c(f),newInstance:u}),s):o},getByAlias:function(e){return e&&n.aliases[e]||u},promiseAlias:function(t){var n=this;return new e.Promise(function(e,i){if(!t)return i("invalid alias");var s=n.getByAlias(t);if(s)return e(s);n.on(r,function(n){n.alias===t&&(s=l(n.newInstance),s&&e(s))})})},get:function(t,n,r){if(!a(t))return u;r=e.merge({create:s},r);var o=f(t),l,c,h;return!o||!o._constructor?u:(l=o._constructor.prototype.idAttribute||i,c=t[l]||t.id,c?(n=e.merge(n,{id:c}),h=o.instances,h&&h[c]?(h[c].setAttrs(n),h[c]):r.create?this.create(t,n,{add:s}):u):u)},create:function(t,n,r){if(!a(t))return u;r=e.merge({add:s,replace:s},r);var o=f(t),l,c,h;return!o||!o._constructor?u:(l=o._constructor.prototype.idAttribute||i,c=t[l]||t.id,c?(n=e.merge(n,{id:c}),h=new o._constructor(n),r.add&&this.add(h,{replace:r.replace}),h):u)},add:function(t,n){if(!t)return o;n=e.merge({replace:o},n);var r=c(t),u=l(r),a,h,p;if(u&&u===t)return s;if(u&&!n.replace)return o;a=f(r);if(!a){h=this.register(t.constructor);if(!h)return o;a=f(r)}return a.instances[r.id]=t,t.onceAfter("destroy",e.bind(function(n){this.remove(t)},this)),t.addTarget(this),p=a._constructor.prototype.idAttribute||i,t.after(p+"Change",function(t){var n=t.target,r=f(c(n));r&&(r.instances[t.newVal]=n,delete r.instances[t.prevVal])}),s},remove:function(t,n){if(!t)return o;n=e.merge({destroy:o},n);var r=c(t),i=f(r),u=i&&i.instances,a=r&&r.id;return!u||u[a]!==t?o:(t.removeTarget(this),n.destroy&&t.destroy(),delete u[a],s)}},e.augment(e.Mjata.ModelStore,e.EventTarget,s,null,{emitFacade:s,prefix:"ModelStore"}),e.Mjata.ModelStore.publish(r,{preventable:o})},"@VERSION@",{requires:["event-custom","promise"]});
;YUI.add("mjata-model",function(e,t){"use strict";var n="MjataModel";e.namespace("Mjata").Model=e.Base.create(n,e.Model,[e.Mjata.JSON],{},{NAME:n}),e.Mjata.ModelStore.register(e.Mjata.Model)},"@VERSION@",{requires:["model","mjata-json","mjata-model-store"]});
;YUI.add("mjata-modellist",function(e,t){"use strict";var n=e.Mjata,r="MjataModelList",i=YUI.namespace("Env.ModelList"),s,o;s={_shareModelInstance:!0,idAttribute:"id",initializer:function(t){t&&!e.Lang.isUndefined(t.shareModelInstance)&&(this._shareModelInstance=t.shareModelInstance)},clear:function(e){this.reset(this,e)},_createModelObj:function(e){var t,r,i;if(!e._isYUIModel){r=this.model.prototype.idAttribute||"id",i=e[r]||e.id,t={name:this.model.NAME,id:i},t[r]=i;if(this._shareModelInstance)return e=n.ModelStore.get(t,e,{create:!0}),e.changed={},e;e=new this.model(e),e.changed={}}return e},create:function(e,t,r){return!this._shareModelInstance||!e||e._isYUIModel?n.ModelList.superclass.create.apply(this,arguments):n.ModelList.superclass.create.call(this,this._createModelObj(e),t,r)},add:function(t,r){var i;return!this._shareModelInstance||!t?n.ModelList.superclass.add.apply(this,arguments):t._isYUIModelList||t._isYUIModel?n.ModelList.superclass.add.apply(this,arguments):e.Lang.isArray(t)?(i=e.Array.map(t,function(t,n){return this._createModelObj(t)},this),n.ModelList.superclass.add.call(this,i,r)):n.ModelList.superclass.add.call(this,this._createModelObj(t),r)},reset:function(t,r){var i;return!this._shareModelInstance||!t?n.ModelList.superclass.reset.call(this,t,r):t._isYUIModelList||t._isYUIModel?n.ModelList.superclass.reset.apply(this,arguments):e.Lang.isArray(t)?(i=e.Array.map(t,function(t,n){return this._createModelObj(t)},this),n.ModelList.superclass.reset.call(this,i,r)):n.ModelList.superclass.reset.call(this,this._createModelObj(t),r)},_generateClientId:function(){return e.Lang.isUndefined(i.lastId)&&(i.lastId=0),this.constructor.NAME+"_"+(i.lastId+=1)}},o={NAME:r,ATTRS:{clientId:{valueFn:"_generateClientId",readOnly:!0},id:{value:null}}},e.namespace("Mjata").ModelList=e.Base.create(r,e.ModelList,[],s,o),n.ModelStore.register(n.ModelList)},"@VERSION@",{requires:["model-list","mjata-model-store"]});
;YUI.add("mjata-model-base",function(e,t){"use strict";var n=e.Lang,r=e.Mjata,i=r.ModelStore,s=n.isFunction,o=n.isString;e.namespace("Mjata").ModelBase={createModelClass:function(t,n,r,u,a,f){if(!t||!o(t))throw"invalid name";if(!s(r))throw"invalid main";f=f||{};var l=e.Base.create(t,r,u,a,f);return i.register(l),l},createModelListClass:function(t,n,r,u,a,f,l){if(!t||!o(t))throw"invalid name";if(!s(r))throw"invalid main";if(!s(u))throw"invalid modelClass";var c=e.merge({model:u},f),h=e.merge(l,{NAME:t}),p=e.Base.create(t,r,a,c,h);return i.register(p),p}},e.Mjata.createModelClass=function(e,t,n,i,s){return r.ModelBase.createModelClass(e,"",t||r.Model,n||[],i||{},s||{})},e.Mjata.createModelListClass=function(e,t,n,i,s,o){return r.ModelBase.createModelListClass(e,"",t||r.ModelList,n||r.Model,i||[],s||{},o||{})}},"@VERSION@",{requires:["base","mjata-model","mjata-modellist","mjata-model-store"]});
;YUI.add("td-scores-model",function(e,t){"use strict";function r(e){e=parseInt(e,10);switch(e){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}var n={"000":0,100:1,"010":2,"001":3,"011":4,110:5,101:6,111:7};e.namespace("TD.Scores").Model=e.Mjata.createModelClass("TDScoresModel",e.Model,[],{idAttribute:"gameid",resource:"sports",readonly:!0,initializer:function(e){this.after("change",function(e){this.checkGameStatus()},this),this.checkGameStatus()},checkGameStatus:function(){var t;switch(this.get("status.type")){case"in_progress":this.openPipe();break;case"pregame":t=this.get("start_ts")-e.Lang.now(),this.openPipe(t);break;default:this.pipe&&this.pipe.close()}},openPipe:function(t){var n=this;if(!e.Af.Config.isFeatureOn("scorespipe")&&!this.get("enablePipe"))return;t=t||0;if(this.pipe){this.pipe.open({delay:t});return}e.use("af-pipe",function(e){n.plug(e.Af.Pipe),n.pipe.config({msg_maxidle:36e5}),n.pipe.on(["outofsync","idle"],function(e){this.fire("refresh")},n),n.pipe.on("error",function(e){e.pipe.code==="exceed-max-error"&&this.set("enablePipe",!1)},n),n.pipe.open({delay:t})})}},{ATTRS:{id:{getter:function(){return this.get("gameid")}},pipeChannel:{getter:function(){return this.get("comet_channel")||"/sports/games/"+this.get("gameid")}},score:{value:{}},status:{value:{},setter:function(t,i){var s=e.clone(t),o;return s&&s.base_runners&&(o=s.base_runners,o.offset=n[o.first+o.second+o.third]*36),s&&s.down_ordinal&&(s.down_ordinal=r(s.down_ordinal)),s}}}})},"@VERSION@",{requires:["af-config","mjata-model","mjata-model-base"]});
;YUI.add("td-scores-modellist",function(e,t){"use strict";e.namespace("TD.Scores").ModelList=e.Mjata.createModelListClass("TDScoresModelList",e.Mjata.ModelList,e.TD.Scores.Model,[e.Af.Sync],{resource:"sports",readonly:!0,consolidate:!1,hasLiveGames:function(){return this.some(function(e){return e.get("status").type==="in_progress"})},reset:function(t,n){var r=this.get("enablePipe"),i="gameid",s={};e.each(t,function(e){e.enablePipe=r,s[e[i]]=!0}),this.each(function(e){s[e.get(i)]||e.destroy()}),e.TD.Scores.ModelList.superclass.reset.call(this,t,n)}},{ATTRS:{enablePipe:{value:!1}}})},"@VERSION@",{requires:["mjata-model-base","mjata-modellist","af-sync","td-scores-model"]});
;YUI.add("af-pageviz",function(e,t){"use strict";var n,r,i="undefined",s="visibilitychange",o="hidden",u="visible";typeof document.hidden!==i?(n="hidden",r=s):typeof document.mozHidden!==i?(n="mozHidden",r="moz"+s):typeof document.msHidden!==i?(n="msHidden",r="ms"+s):typeof document.webkitHidden!==i&&(n="webkitHidden",r="webkit"+s),e.namespace("Af").PageViz={isHidden:function(){return!!document[n]}},e.EventTarget&&e.augment(e.Af.PageViz,e.EventTarget,!0,null,{emitFacade:!1,prefix:"PageViz"}),typeof document.addEventListener!="undefined"&&typeof n!="undefined"&&document.addEventListener(r,function(t){e.Af.PageViz.fire(document[n]?o:u)},!1)},"@VERSION@",{requires:["event-custom"]});
;YUI.add("af-poll",function(e,t){"use strict";function u(e){this._model=e.host,this._model.after("destroy",function(){this.end()},this)}var n=e.Object,r=e.Lang,i=3,s=5e3,o=3e4;u.NS="poll",u.prototype={_handle:null,_poll_config:{interval:o},_load_options:{},_callback:null,_err_streak:0,start:function(t,n,u){this._handle&&this.end(),this._poll_config=e.merge({interval:o},t),this._load_options=n||{},this._callback=u;var a=this._poll_config.interval;return!r.isNumber(a)||a<s?!1:(this._handle=e.later(this._poll_config.interval,this,function(){if(e.Af.PageViz.isHidden())return;var t=this;this._model.load(n,function(e,n){t._callback&&t._callback(e,n),e?t._err_streak++:t._err_streak=0,t._err_streak>i&&(t._err_streak=0,t.pause(t._poll_config.interval*i))})},null,!0),!0)},end:function(){this._handle&&(this._handle.cancel(),this._handle=null)},resume:function(){this.start(this._poll_config,this._load_options,this._callback)},pause:function(t){this.end(),r.isNumber(t)&&t>0&&e.later(t,this,function(){this.resume()})},update:function(t,r,i){i&&(this._callback=i);var s=n.some(t,function(e,t){return this._poll_config[t]!==e},this);s||(s=n.some(r,function(e,t){return this._load_options[t]!==e},this));if(!s)return;return this.end(),t=e.merge(this._poll_config,t),r=e.merge(this._load_options,r),this.start(t,r,this._callback)}},e.namespace("Af").Poll=u},"@VERSION@",{requires:["af-pageviz"]});
;