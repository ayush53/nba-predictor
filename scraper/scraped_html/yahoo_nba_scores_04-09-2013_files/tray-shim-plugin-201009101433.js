YUI.add("tray-shim-plugin",function(b){function a(c){this._host=c.host;this._host.after("open",this._afterTrayOpen,this);this._host.after("close",this._afterTrayClose,this);var d=this._host.get("node");this._shim=b.Node.create('<iframe class="sa-shim" frameborder="0" tabindex="-1" role="presentation"></iframe>',d.get("ownerDocument"));if(window.location.href.toLowerCase().indexOf("https")===0){this._shim.set("src","javascript:false;")}if(b.UA.ie){this._shim.setStyle("filter","alpha(opacity=0)")}else{this._shim.setStyle("opacity","0")}this._shim.setStyles({position:"absolute",border:"none",margin:"0",padding:"0",display:"none"});d.insertBefore(this._shim,d.get("firstChild"))}a.prototype={sync:function(){var c=this._host.get("node");this._shim.setAttrs({width:c.getStyle("width"),height:c.getStyle("height")})},destroy:function(){this._shim.remove(true);if(this._resizeHandle){this._resizeHandle.detach()}},_afterTrayOpen:function(){this._shim.setStyle("display","block");this.sync();this._resizeHandle=b.on("resize",this._onresize,window,this)},_afterTrayClose:function(){this._shim.setStyle("display","none");this._resizeHandle.detach();this._resizeHandle=null},_onresize:function(){var c=b.DOM.winWidth(),d=b.DOM.winHeight();if(this._w===c&&this._h===d){return}this._w=c;this._h=d;if(this._timer){this._timer.cancel()}this._timer=b.later(50,this,this.sync)}};a.NAME="tray-shim-plugin";a.NS="shim";b.Search.Assist.TrayShimPlugin=a},"1.0.0",{requires:["searchassist-core"]});